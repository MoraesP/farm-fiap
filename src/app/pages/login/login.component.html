<div
  class="d-flex justify-content-center align-items-center min-vh-100 bg-light"
>
  <div class="card shadow p-4 w-100" style="max-width: 400px">
    <h2 class="text-center mb-4">Login</h2>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-control"
          [class.is-invalid]="
            loginForm.get('email')?.invalid && loginForm.get('email')?.touched
          "
        />
        <div
          class="invalid-feedback"
          *ngIf="
            loginForm.get('email')?.invalid && loginForm.get('email')?.touched
          "
        >
          <span *ngIf="loginForm.get('email')?.errors?.['required']"
            >Email é obrigatório.</span
          >
          <span *ngIf="loginForm.get('email')?.errors?.['email']"
            >Formato de email inválido.</span
          >
        </div>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">Senha</label>
        <input
          type="password"
          id="password"
          formControlName="password"
          class="form-control"
          [class.is-invalid]="
            loginForm.get('password')?.invalid &&
            loginForm.get('password')?.touched
          "
        />
        <div
          class="invalid-feedback"
          *ngIf="
            loginForm.get('password')?.invalid &&
            loginForm.get('password')?.touched
          "
        >
          <span *ngIf="loginForm.get('password')?.errors?.['required']"
            >Senha é obrigatória.</span
          >
          <span *ngIf="loginForm.get('password')?.errors?.['minlength']"
            >A senha deve ter pelo menos 6 caracteres.</span
          >
        </div>
      </div>

      <div class="alert alert-danger" *ngIf="loginError">
        {{ errorMessage }}
      </div>

      <button
        type="submit"
        class="btn btn-primary w-100"
        [disabled]="loginForm.invalid || isLoading"
      >
        <span
          *ngIf="isLoading"
          class="spinner-border spinner-border-sm me-2"
          role="status"
          aria-hidden="true"
        ></span>
        Entrar
      </button>
    </form>
    <hr class="my-3" />
    <button
      class="btn btn-success w-100"
      (click)="register()"
      [disabled]="loginForm.invalid || isLoading"
    >
      <span
        *ngIf="isLoading"
        class="spinner-border spinner-border-sm me-2"
        role="status"
        aria-hidden="true"
      ></span>
      Registrar
    </button>
  </div>
</div>
