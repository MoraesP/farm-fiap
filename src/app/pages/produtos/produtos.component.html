<div class="container mt-4">
  <div class="row">
    <!-- Formulário de Cadastro -->
    <!-- <div class="col-md-4">
      <div class="card">
        <div class="card-header">
          <h4>Cadastrar Novo Produto</h4>
        </div>
        <div class="card-body">
          <form [formGroup]="produtoForm" (ngSubmit)="cadastrarProduto()">
            <div class="mb-3">
              <label for="nome" class="form-label">Nome do Produto</label>
              <input
                type="text"
                id="nome"
                formControlName="nome"
                class="form-control"
              />
            </div>

            <div class="mb-3">
              <label for="descricao" class="form-label">Descrição</label>
              <textarea
                id="descricao"
                formControlName="descricao"
                class="form-control"
              ></textarea>
            </div>

            <div class="mb-3">
              <label for="tipo" class="form-label">Tipo</label>
              <select id="tipo" formControlName="tipo" class="form-select">
                <option *ngFor="let tipo of tiposProduto" [value]="tipo">
                  {{ tipo }}
                </option>
              </select>
            </div>

            <div class="row">
              <div class="col-6 mb-3">
                <label for="quantidadeEstoque" class="form-label"
                  >Estoque</label
                >
                <input
                  type="number"
                  id="quantidadeEstoque"
                  formControlName="quantidadeEstoque"
                  class="form-control"
                />
              </div>
              <div class="col-6 mb-3">
                <label for="unidadeMedida" class="form-label">Unidade</label>
                <select
                  id="unidadeMedida"
                  formControlName="unidadeMedida"
                  class="form-select"
                >
                  <option
                    *ngFor="let unidade of unidadesMedida"
                    [value]="unidade"
                  >
                    {{ unidade }}
                  </option>
                </select>
              </div>
            </div>

            <div class="mb-3">
              <label for="precoVenda" class="form-label">Preço (R$)</label>
              <input
                type="number"
                id="precoVenda"
                formControlName="precoVenda"
                class="form-control"
              />
            </div>

            <div class="mb-3">
              <label for="dataProducao" class="form-label"
                >Data de Produção</label
              >
              <input
                type="date"
                id="dataProducao"
                formControlName="dataProducao"
                class="form-control"
              />
            </div>

            <button
              type="submit"
              class="btn btn-primary w-100"
              [disabled]="produtoForm.invalid"
            >
              Cadastrar
            </button>
          </form>
        </div>
      </div>
    </div> -->

    <div class="card">
      <div class="card-header">
        <h4>Meus Produtos</h4>
      </div>
      <div class="card-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Nome</th>
              <th>Tipo</th>
              <th>Estoque</th>
              <th>Preço</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let produto of produtos$ | async">
              <td>{{ produto.nome }}</td>
              <td>{{ produto.tipo }}</td>
              <td>
                {{ produto.quantidadeEstoque }} {{ produto.unidadeMedida }}
              </td>
              <td>{{ produto.precoVenda | currency : "BRL" }}</td>
              <td>
                <button
                  class="btn btn-sm btn-danger"
                  (click)="removerProduto(produto.id)"
                >
                  Excluir
                </button>
              </td>
            </tr>
            <tr *ngIf="(produtos$ | async)?.length === 0">
              <td colspan="5" class="text-center">
                Nenhum produto cadastrado.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
